# Oh My Zsh home
export ZSH="$HOME/.oh-my-zsh"

# Homebrew / Linuxbrew
if command -v brew &>/dev/null; then
  export PATH="$(brew --prefix)/bin:$PATH"
  FPATH="$(brew --prefix)/share/zsh/site-functions:${FPATH}"
fi

# --- Java / jenv ---
if [ -d "$HOME/.jenv" ]; then
  export PATH="$HOME/.jenv/bin:$PATH"
  if command -v jenv >/dev/null 2>&1; then
    eval "$(jenv init -)"
  fi
fi

# TODO: Make work with work computer
{{- if eq .chezmoi.os "darwin" -}}
export JAVA_HOME="/Library/Java/JavaVirtualMachines/zulu-17.jdk/Contents/Home"
{{- else -}}
# Example Linux JAVA_HOME (customize if needed)
# export JAVA_HOME="/usr/lib/jvm/default-java"
{{- end }}

# --- Python (pyenv) ---
export PYENV_ROOT="$HOME/.pyenv"
if [ -d "$PYENV_ROOT" ]; then
  export PATH="$PYENV_ROOT/bin:$PATH"
  if command -v pyenv >/dev/null 2>&1; then
    eval "$(pyenv init -)"
  fi
fi

# --- Node package managers ---
{{- if eq .chezmoi.os "darwin" -}}
export PNPM_HOME="$HOME/Library/pnpm"
{{- else -}}
export PNPM_HOME="$HOME/.local/share/pnpm"
{{- end }}
export PATH="$PNPM_HOME:$PATH"

export VOLTA_HOME="$HOME/.volta"
export PATH="$VOLTA_HOME/bin:$PATH"

# --- Rust / Go / DBs ---
{{- if eq .chezmoi.os "darwin" -}}
export PATH="/opt/homebrew/opt/postgresql@16/bin:$PATH"
{{- else -}}
# Example Postgres path on Linux:
# export PATH="/usr/lib/postgresql/16/bin:$PATH"
{{- end }}

# --- Android SDK ---
{{- if eq .chezmoi.os "darwin" -}}
export ANDROID_HOME="$HOME/Library/Android/sdk"
{{- else -}}
export ANDROID_HOME="$HOME/Android/Sdk"
{{- end }}
export PATH="$PATH:$ANDROID_HOME/emulator:$ANDROID_HOME/platform-tools"

# --- Misc tools installed in $HOME ---
export PATH="$HOME/bin:$PATH"
export PATH="$PATH:$HOME/.local/bin"
export PATH="$PATH:$HOME/.config/emacs/bin"
export PATH="$PATH:$HOME/.lmstudio/bin"
export PATH="$PATH:$HOME/.codeium/windsurf/bin"
export PATH="$PATH:$HOME/.antigravity/antigravity/bin"

# Editors & pager
export EDITOR='nvim'
export VISUAL='nvim'
export MANPAGER='nvim +Man!'

# Docker default platform
# export DOCKER_DEFAULT_PLATFORM=linux/amd64
